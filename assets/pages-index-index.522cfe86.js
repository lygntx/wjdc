import{r as t,s as e,o as a,c as s,w as i,i as d,a as l,b as o,t as u,d as c,e as n,f as r,F as f,g as h,h as _,j,k as m,l as b}from"./index-76fb7297.js";import{_ as p}from"./_plugin-vue_export-helper.1b428a4d.js";const g="https://07aea1c4-38cd-4430-8f54-e10800507323-00-dortdze5g6t5.sisko.replit.dev/apiv1";const w=p({data:()=>({answer_head:["A","B","C","D","E"],wjdcdata:{title:null},uuid:null,yitijiao:!1}),onLoad(t){this.uuid=t.id||"1cdb9db0-9931-4256-ae16-02b21b2da628",this.getdata()},methods:{getdata(){let a=g+"/wjdc/"+this.uuid;t({url:a,success:t=>{this.wjdcdata=t.data,this.title="request success"},fail:t=>{e({title:"404",icon:"error",duration:2e3})}})},postdata(a){let s=g+"/wjdc/"+this.uuid;this.yitijiao=!0,t({url:s,method:"POST",data:a,success:t=>{e({title:"感谢您的投票",icon:"success",duration:2e3})},fail(t){this.yitijiao=!1}})},radioChange(t){console.log(t.detail.value)},formSubmit(t){let a=t.detail.value,s=Object.keys(a),i=Object.entries(a).map((function([t,e]){return e}));console.log("questions ids："+s),console.log("choices ids："+i),i.some((t=>void 0===t))?e({title:"漏填，请检查",icon:"error",duration:2e3}):this.postdata(i)}}},[["render",function(t,e,p,g,w,v){const y=d,k=j,S=m,q=b,x=h,C=_;return a(),s(y,{class:"content"},{default:i((()=>[w.wjdcdata.title?(a(),s(y,{key:0},{default:i((()=>[l(y,{class:"title"},{default:i((()=>[o(u(w.wjdcdata.title),1)])),_:1}),w.wjdcdata.desc?(a(),s(y,{key:0,class:"desc"},{default:i((()=>[o(u(w.wjdcdata.desc),1)])),_:1})):c("",!0),l(C,{onSubmit:v.formSubmit},{default:i((()=>[(a(!0),n(f,null,r(w.wjdcdata.question_set,((t,e)=>(a(),s(y,{key:t.id},{default:i((()=>[l(y,{class:"question"},{default:i((()=>[o(u(e+1)+"."+u(t.question_text),1)])),_:2},1024),l(q,{onChange:v.radioChange,name:t.id.toString()},{default:i((()=>[(a(!0),n(f,null,r(t.choice_set,((t,e)=>(a(),s(S,{class:"uni-list-cell uni-list-cell-pd choice",key:t.id},{default:i((()=>[l(y,null,{default:i((()=>[l(k,{value:t.id.toString()},null,8,["value"]),o(" "+u(w.answer_head[e])+"."+u(t.choice_text),1)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1032,["onChange","name"])])),_:2},1024)))),128)),l(y,{class:"uni-btn-v"},{default:i((()=>[l(x,{"form-type":"submit",disabled:w.yitijiao},{default:i((()=>[o("提交")])),_:1},8,["disabled"])])),_:1})])),_:1},8,["onSubmit"])])),_:1})):c("",!0)])),_:1})}],["__scopeId","data-v-b2e18375"]]);export{w as default};
